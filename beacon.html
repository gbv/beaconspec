<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>BEACON link dump format</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
      /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
      a.info {
          /* This is the key. */
          position: relative;
          z-index: 24;
          text-decoration: none;
      }
      a.info:hover {
          z-index: 25;
          color: #FFF; background-color: #900;
      }
      a.info span { display: none; }
      a.info:hover span.info {
          /* The span will display just on :hover state. */
          display: block;
          position: absolute;
          font-size: smaller;
          top: 2em; left: -5em; width: 15em;
          padding: 2px; border: 1px solid #333;
          color: #900; background-color: #EEE;
          text-align: left;
      }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  max-width: 55em;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents"/>
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction"/>
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Example"/>
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 Notational Conventions"/>
<link href="#rfc.section.2" rel="Chapter" title="2 Basic concepts"/>
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Links"/>
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Allowed characters"/>
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Whitespace normalization"/>
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 URI patterns"/>
<link href="#rfc.section.3" rel="Chapter" title="3 Meta fields"/>
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Source and target datasets"/>
<link href="#rfc.section.3.1.1" rel="Chapter" title="3.1.1 sourceset"/>
<link href="#rfc.section.3.1.2" rel="Chapter" title="3.1.2 targetset"/>
<link href="#rfc.section.3.1.3" rel="Chapter" title="3.1.3 name"/>
<link href="#rfc.section.3.1.4" rel="Chapter" title="3.1.4 institution"/>
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Link dump"/>
<link href="#rfc.section.3.2.1" rel="Chapter" title="3.2.1 description"/>
<link href="#rfc.section.3.2.2" rel="Chapter" title="3.2.2 creator"/>
<link href="#rfc.section.3.2.3" rel="Chapter" title="3.2.3 contact"/>
<link href="#rfc.section.3.2.4" rel="Chapter" title="3.2.4 homepage"/>
<link href="#rfc.section.3.2.5" rel="Chapter" title="3.2.5 feed"/>
<link href="#rfc.section.3.2.6" rel="Chapter" title="3.2.6 timestamp"/>
<link href="#rfc.section.3.2.7" rel="Chapter" title="3.2.7 update"/>
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Link description"/>
<link href="#rfc.section.3.3.1" rel="Chapter" title="3.3.1 prefix"/>
<link href="#rfc.section.3.3.2" rel="Chapter" title="3.3.2 target"/>
<link href="#rfc.section.3.3.3" rel="Chapter" title="3.3.3 message"/>
<link href="#rfc.section.3.3.4" rel="Chapter" title="3.3.4 relation"/>
<link href="#rfc.section.3.3.5" rel="Chapter" title="3.3.5 annotation"/>
<link href="#rfc.section.4" rel="Chapter" title="4 BEACON text format"/>
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Link construction"/>
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 MIME type"/>
<link href="#rfc.section.5" rel="Chapter" title="5 Mappings"/>
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Mapping to RDF"/>
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Mapping to HTML"/>
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations"/>
<link href="#rfc.references" rel="Chapter" title="7 References"/>
<link href="#rfc.references.1" rel="Chapter" title="7.1 Normative References"/>
<link href="#rfc.references.2" rel="Chapter" title="7.2 Informative References"/>
<link href="#rfc.appendix.A" rel="Chapter" title="A Glossary"/>
<link href="#rfc.appendix.B" rel="Chapter" title="B BEACON XML format"/>
<link href="#rfc.appendix.C" rel="Chapter" title="C Example"/>
<link href="#rfc.authors" rel="Chapter"/>


  <meta name="generator" content="xml2rfc version 2.4.5 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Vo&#223;, J., Berger, Th., and M. Schindler" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-voss-beacon-001" />
  <meta name="dct.issued" scheme="ISO8601" content="2014-3-23" />
  <meta name="dct.abstract" content="This document specifies BEACON, a data interchange format for large numbers of uniform links." />
  <meta name="description" content="This document specifies BEACON, a data interchange format for large numbers of uniform links." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
  <td class="left">Network Working Group</td>
  <td class="right">J. Vo&#223;</td>
</tr>
<tr>
  <td class="left">Internet-Draft</td>
  <td class="right">Verbundzentrale des GBV</td>
</tr>
<tr>
  <td class="left">Intended status: Informational</td>
  <td class="right">Th. Berger</td>
</tr>
<tr>
  <td class="left">Expires: September 24, 2014</td>
  <td class="right">Gymel.com</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">M. Schindler</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">Wikimedia Deutschland e.V.</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">March 23, 2014</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">BEACON link dump format<br />
  <span class="filename">draft-voss-beacon-001</span></p>
  
  <h1 id="rfc.abstract">
  <a href="#rfc.abstract">Abstract</a>
</h1>
<p>This document specifies BEACON, a data interchange format for large numbers of uniform links.</p>
<h1 id="rfc.status">
  <a href="#rfc.status">Status of This Memo</a>
</h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on September 24, 2014.</p>
<h1 id="rfc.copyrightnotice">
  <a href="#rfc.copyrightnotice">Copyright Notice</a>
</h1>
<p>Copyright (c) 2014 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>
<h1 id="rfc.section.1"><a href="#rfc.section.1">1.</a> <a href="#introduction" id="introduction">Introduction</a></h1>
<p id="rfc.section.1.p.1">BEACON is a data interchange format for large numbers of uniform links. A BEACON <strong>link dump</strong> consists of: </p>
<p/>

<ul>
  <li>a set of links (<a href="#links">Section 2.1</a>), </li>
  <li>a set of meta fields (<a href="#meta-fields">Section 3</a>).  </li>
</ul>
<p id="rfc.section.1.p.3">Each link consists of a source URI, a target URI, and an annotation.  Common patterns in source URIs and target URIs respectively can be used to abbreviate serializations of link dumps. This specification defines: </p>
<p/>

<ul>
  <li>a serialization of link dumps (<strong>BEACON files</strong>) in a condense line-oriented text format (<a href="#beacon-text-format">Section 4</a>). A non-normative serialization based on XML is included in an appendix; </li>
  <li>two interpretations of link dumps as mapping to HTML and mapping to RDF (<a href="#mappings">Section 5</a>).  </li>
</ul>
<p id="rfc.section.1.p.5">The current specification is managed at <a href="https://github.com/gbv/beaconspec">https://github.com/gbv/beaconspec</a>.  </p>
<h1 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a> <a href="#example" id="example">Example</a></h1>
<p id="rfc.section.1.1.p.1">To give an example, the "ACME" company wants to provide links from people to the documents that each person contributed to. A list of people is available from <samp>http://example.com/people/</samp> and a list of documents, titled "ACME documents", is available from <samp>http://example.com/documents/</samp>. This information can be expressed in BEACON text format as following: </p>
<pre>
#INSTITUTION: ACME
#SOURCESET:   http://example.com/people/
#TARGETSET:   http://example.com/documents/
#NAME:        ACME documents
#RELATION:    http://purl.org/dc/elements/1.1/contributor
</pre>
<p id="rfc.section.1.1.p.2">The simplest form of a BEACON text file contains full links separated by a vertical bar: </p>
<pre>
http://example.com/people/alice|http://example.com/documents/23.about
http://example.com/people/bob|http://example.com/documents/42.about
</pre>
<p id="rfc.section.1.1.p.3">The first element of a link is called source URI and the second is called target URI. If a target URI does not start with <samp>http</samp> or <samp>https</samp>, two vertical bars MUST be used: </p>
<pre>
http://example.com/people/alice||urn:isbn:0123456789
</pre>
<p id="rfc.section.1.1.p.4">As both source URIs for people and target URIs for documents follow a pattern, links can be abbreviated as following: </p>
<pre>
#PREFIX: http://example.com/people/
#TARGET: http://example.com/documents/{+ID}.about

alice||23
bob||42
</pre>
<p id="rfc.section.1.1.p.5">For each link a third element can be added as annotation. The meaning of this annotation is not rdf:value </p>
<pre>
#ANNOTATION: http://purl.org/dc/elements/1.1/date

alice||23
bob||42
</pre>
<h1 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a> <a href="#notational-conventions" id="notational-conventions">Notational Conventions</a></h1>
<p id="rfc.section.1.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.  </p>
<p id="rfc.section.1.2.p.2">The formal grammar rules in this document are to be interpreted as described in <a href="#RFC5234">[RFC5234]</a>, including the ABNF core rules <samp>HTAB</samp>, <samp>LF</samp>, <samp>CR</samp>, and <samp>SP</samp>. In addition, the minus operator (<samp>-</samp>) is used to exclude line breaks and vertical bars from the rules LINE and TOKEN: </p>
<pre>
 LINE       =  *CHAR - ( *CHAR LINEBREAK *CHAR )

 TOKEN      =  *CHAR - ( *CHAR ( LINEBREAK / VBAR ) *CHAR )

 LINEBREAK  =  LF | CR LF | CR   ; "\n", "\r\n", or "\r"

 VBAR       =  %x7C              ; vertical bar ("|")
</pre>
<p id="rfc.section.1.2.p.3">RDF in this document is expressed in Turtle syntax <a href="#TURTLE">[TURTLE]</a>. The following namespace prefixes are used to refer to RDF properties and classes from the RDF and RDFS vocabularies <a href="#RDF">[RDF]</a>, the DCMI Metadata Terms <a href="#DCTERMS">[DCTERMS]</a>, the FOAF vocabulary <a href="#FOAF">[FOAF]</a>, the VoID vocabulary <a href="#VOID">[VOID]</a>, and the RSS 1.0 Syndication Module <a href="#RSSSYND">[RSSSYND]</a>: </p>
<pre>
 rdf:     &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
 rdfs:    &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
 dcterms: &lt;http://purl.org/dc/terms/extent&gt;
 foaf:    &lt;http://xmlns.com/foaf/0.1/&gt;
 void:    &lt;http://rdfs.org/ns/void#&gt;
 rssynd:  &lt;http://web.resource.org/rss/1.0/modules/syndication/&gt;
</pre>
<p id="rfc.section.1.2.p.4">The blank node <samp>:dump</samp> denotes the URI of the link dump and the blank node <samp>:targetset</samp> denotes the URI of the target dataset.  </p>
<h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a> <a href="#basic-concepts" id="basic-concepts">Basic concepts</a></h1>
<h1 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a> <a href="#links" id="links">Links</a></h1>
<p id="rfc.section.2.1.p.1">A link in a link dump is a directed connection between two resources that are identified by URIs <a href="#RFC3986">[RFC3986]</a>. A link is compromised of three elements: </p>
<p/>

<ul>
  <li>a <strong>source URI</strong>, </li>
  <li>a <strong>target URI</strong>, </li>
  <li>an <strong>annotation</strong>.  </li>
</ul>
<p id="rfc.section.2.1.p.3">Source URI and target URI define where a link is pointing from and to respectively. The annotation is an optional Unicode string, that can be used to further describe the link or parts of it.  Annotations MUST be whitespace-normalized (<a href="#whitespace-normalization">Section 2.3</a>) and MUST NOT contain a <samp>VBAR</samp> character. A missing annotation is equal to the empty string. The meaning of a link can be indicated by the <strong>relation type</strong> meta field (<a href="#relation">Section 3.3.4</a>).  </p>
<h1 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a> <a href="#allowed-characters" id="allowed-characters">Allowed characters</a></h1>
<p id="rfc.section.2.2.p.1">The set of allowed Unicode characters in BEACON dumps is the set of valid Unicode characters from UCS which can also be expressed in XML 1.0, excluding some discouraged control characters: </p>
<pre>
 CHAR        =  WHITESPACE / %x21-7E / %xA0-D7FF / %xE000-FFFD
             /  %x10000-1FFFD / %x20000-2FFFD / %x30000-3FFFD
             /  %x40000-4FFFD / %x50000-5FFFD / %x60000-6FFFD
             /  %x70000-7FFFD / %x80000-8FFFD / %x90000-9FFFD
             /  %xA0000-AFFFD / %xB0000-BFFFD / %xC0000-CFFFD
             /  %xD0000-DFFFD / %xE0000-EFFFD / %xF0000-FFFFD
             /  %x10000-10FFFD
</pre>
<p id="rfc.section.2.2.p.2">Applications SHOULD exclude disallowed characters by stripping them, by replacing them with the replacement character <samp>U+FFFD</samp>, or by refusing to process. Applications SHOULD also apply Unicode Normalization Form Canonical Composition (NFKC) to all strings.  </p>
<h1 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a> <a href="#whitespace-normalization" id="whitespace-normalization">Whitespace normalization</a></h1>
<p id="rfc.section.2.3.p.1">A Unicode string is <strong>whitespace-normalized</strong> according to this specification, by stripping leading and trailing whitespace and by replacing all <samp>WHITESPACE</samp> character sequences by a single space (<samp>SP</samp>).  </p>
<pre>
 WHITESPACE  =  1*( CR | LF | HTAB | SP )
</pre>
<h1 id="rfc.section.2.4"><a href="#rfc.section.2.4">2.4.</a> <a href="#uri-patterns" id="uri-patterns">URI patterns</a></h1>
<p id="rfc.section.2.4.p.1">A <strong>URI pattern</strong> in this specification is an URI Template, as defined in <a href="#RFC6570">[RFC6570]</a>, with all template expressions being either <samp>{ID}</samp> for simple string expansion or <samp>{+ID}</samp> for reserved expansion.  </p>
<p id="rfc.section.2.4.p.2">A URI pattern is used to construct a URI by replacing all template expressions with an identifier value. All identifier characters in the <samp>unreserved</samp> range from <a href="#RFC3986">[RFC3986]</a>, and characters in the <samp>reserved</samp> range or character sequences matching the <samp>pct-encoded</samp> rule for expressions being <samp>{+ID}</samp>, are copied literally. All other characters are copied to the URI as the sequence of pct-encoded triplets corresponding to that character&#8217;s encoding in UTF-8 <a href="#RFC3629">[RFC3629]</a>. The referenced character ranges are imported here from <a href="#RFC3986">[RFC3986]</a> for convenience: </p>
<pre>
 pct-encoded    =  "%" HEXDIG HEXDIG
 unreserved     =  ALPHA / DIGIT / "-" / "." / "_" / "~"
 reserved       =  gen-delims / sub-delims
 gen-delims     =  ":" / "/" / "?" / "#" / "[" / "]" / "@"
 sub-delims     =  "!" / "$" / "&amp;" / "'" / "(" / ")"
                /  "*" / "+" / "," / ";" / "="
</pre>
<p id="rfc.section.2.4.p.3">A URI pattern is allowed to contain the broader set of characters allowed in Internationalized Resource Identifiers (IRI) <a href="#RFC3987">[RFC3987]</a>. The URI constructed from a URI pattern by template processing can be transformed to an IRI by following the process defined in Section 3.2 of <a href="#RFC3987">[RFC3987]</a>.  </p>
<pre>
 Example value    Expression   Copied as

  path/dir          {ID}        path%2Fdir
  path/dir          {+ID}       path/dir
  Hello World!      {ID}        Hello%20World%21
  Hello World!      {+ID}       Hello%20World!
  Hello%20World     {ID}        Hello%2520World
  Hello%20World     {+ID}       Hello%20World
  M%C3%BCller       {ID}        M%25C3%25BCller
  M%C3%BCller       {+ID}       M%C3%BCller
</pre>
<h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a> <a href="#meta-fields" id="meta-fields">Meta fields</a></h1>
<p id="rfc.section.3.p.1">A link dump SHOULD contain a set of <strong>meta fields</strong>, each identified by its name build of lowercase letters <samp>a-z</samp>. Relevant meta fields for description of the source and target datasets (<a href="#source-and-target-datasets">Section 3.1</a>), the link dump (<a href="#link-dump">Section 3.2</a>), and links (<a href="#link-description">Section 3.3</a>) are defined in the following. Additional meta fields, not defined in this specification, SHOULD be ignored. All meta field values MUST be whitespace-normalized. Missing meta field values and empty strings MUST be set to the field&#8217;s default value, which is the empty string unless noted otherwise. The following diagram shows which meta fields belong to which dataset. Repeatable fields are marked with a plus character (<samp>+</samp>): </p>
<pre>
+----------------+    +------------------+     +-----------------+
| source dataset | ---| link dump        |---&gt; | target dataset  |
|----------------|    |------------------|     |-----------------|
|                | ---|                  |---&gt; |                 |
|  * sourceset   |    |  * description+  |     |  * targetset    |
|                | ---|  * creator+      |---&gt; |  * name+        |
+----------------+    |  * contact+      |     |  * institution+ |
                      |  * homepage+     |     |                 |
                      |  * feed+         |     +-----------------+
                      |  * timestamp+    |
                      |  * update        |
                      |                  |
                      +------------------+
                      |                  |
                      |  * prefix        |
                      |  * target        |
                      |  * relation      |
                      |  * message       |
                      |  * annotation    |
                      |                  |
                      +------------------+
</pre>
<h1 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a> <a href="#source-and-target-datasets" id="source-and-target-datasets">Source and target datasets</a></h1>
<p id="rfc.section.3.1.p.1">The set that all source URIs in a link dump originate from is called the <strong>source dataset</strong> and the set that all target URIs originate from is called the <strong>target dataset</strong>.  </p>
<h1 id="rfc.section.3.1.1"><a href="#rfc.section.3.1.1">3.1.1.</a> <a href="#sourceset" id="sourceset">sourceset</a></h1>
<p id="rfc.section.3.1.1.p.1">The source dataset can be identified by the sourceset meta field, which MUST be an URI if given. This field replaces the blank node <samp>:sourceset</samp>.  </p>
<h1 id="rfc.section.3.1.2"><a href="#rfc.section.3.1.2">3.1.2.</a> <a href="#targetset" id="targetset">targetset</a></h1>
<p id="rfc.section.3.1.2.p.1">The target dataset can be identified by the targetset meta field, which MUST be an URI if given. This field replaces the blank node <samp>:targetset</samp>.  </p>
<h1 id="rfc.section.3.1.3"><a href="#rfc.section.3.1.3">3.1.3.</a> <a href="#name" id="name">name</a></h1>
<p id="rfc.section.3.1.3.p.1">The name meta field contains a name or title of target dataset.  This field is mapped to the RDF property <samp>dcterms:title</samp>. For instance the name meta field value "ACME documents", expressible in BEACON text format as </p>
<pre>
#NAME: ACME documents
</pre>
<p id="rfc.section.3.1.3.p.2">can be mapped to this RDF triple: </p>
<pre>
:targetset dcterms:title "ACME documents" .
</pre>
<h1 id="rfc.section.3.1.4"><a href="#rfc.section.3.1.4">3.1.4.</a> <a href="#institution" id="institution">institution</a></h1>
<p id="rfc.section.3.1.4.p.1">The institution meta field contains the name or URI of the organization or of an individual responsible for making available the target dataset. This field is mapped to the RDF property <samp>dcterms:publisher</samp>. For instance the institution meta field value "ACME", expressible in BEACON text format as </p>
<pre>
#INSTITUTION: ACME
</pre>
<p id="rfc.section.3.1.4.p.2">can be mapped to this RDF triple: </p>
<pre>
:targetset dcterms:publisher "ACME" .
</pre>
<p id="rfc.section.3.1.4.p.3">A institution meta field value starting with <samp>http://</samp> or <samp>https://</samp> is interpreted as URI instead of string. For instance </p>
<pre>
#INSTITUTION: http://example.org/acme/
</pre>
<p id="rfc.section.3.1.4.p.4">can be mapped to this RDF triple: </p>
<pre>
:targetset dcterms:publisher &lt;http://example.org/acme/&gt; .
</pre>
<h1 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a> <a href="#link-dump" id="link-dump">Link dump</a></h1>
<h1 id="rfc.section.3.2.1"><a href="#rfc.section.3.2.1">3.2.1.</a> <a href="#description" id="description">description</a></h1>
<p id="rfc.section.3.2.1.p.1">The description meta field contains a human readable description of the link dump. This field is mapped to the <samp>dcterms:description</samp> RDF property. For instance the description meta field value "Mapping from ids to documents", expressible in BEACON text format as </p>
<pre>
#DESCRIPTION: Mapping from ids to documents
</pre>
<p id="rfc.section.3.2.1.p.2">can be mapped to this RDF triple: </p>
<pre>
:dump dcterms:description "Mapping from ids to documents" .
</pre>
<h1 id="rfc.section.3.2.2"><a href="#rfc.section.3.2.2">3.2.2.</a> <a href="#creator" id="creator">creator</a></h1>
<p id="rfc.section.3.2.2.p.1">The creator meta field contains the URI or the name of the person, organization, or a service primarily responsible for making the link dump. This field is mapped to the <samp>dcterms:creator</samp> RDF property. The creator is an instace of the class <samp>foaf:Agent</samp>.  </p>
<p id="rfc.section.3.2.2.p.2">For instance the following creator meta field values, expressed in BEACON text format: </p>
<pre>
#CREATOR: Bea Beacon
#CREATOR: http://example.org/people/bea
</pre>
<p id="rfc.section.3.2.2.p.3">can be mapped the the following RDF triples, respectively: </p>
<pre>
:dump dcterms:creator "Bea Beacon" .
:dump dcterms:creator [ a foaf:Agent ; foaf:name "Bea Beacon" ] .

:dump dcterms:creator &lt;http://example.org/people/bea&gt; .
&lt;http://example.org/people/bea&gt; a foaf:Agent .
</pre>
<p id="rfc.section.3.2.2.p.4">This field SHOULD NOT contain a simple URL unless this URL is also used as URI.  </p>
<h1 id="rfc.section.3.2.3"><a href="#rfc.section.3.2.3">3.2.3.</a> <a href="#contact" id="contact">contact</a></h1>
<p id="rfc.section.3.2.3.p.1">The contact meta field contains an email address or similar contact information to reach the creator of the link dump. The field value SHOULD be a mailbox address as specified in section 3.4 of <a href="#RFC5322">[RFC5322]</a>, for instance: </p>
<pre>
 admin@example.com

 Bea Beacon &lt;bea@example.org&gt;
</pre>
<p id="rfc.section.3.2.3.p.2">The contact meta field is mapped to the <samp>foaf:mbox</samp> and to the <samp>foaf:name</samp> RDF properties. The domain of the the contact meta field is the BEACON dump. The sample field values can be mapped to: </p>
<pre>
 :dump dcterms:creator [
     foaf:mbox &lt;mailto:admin@example.com&gt;
 ] .

 :dump dcterms:creator [
     foaf:name "Bea Beacon" ;
     foaf:mbox &lt;mailto:bea@example.org&gt;
 ] .
</pre>
<h1 id="rfc.section.3.2.4"><a href="#rfc.section.3.2.4">3.2.4.</a> <a href="#homepage" id="homepage">homepage</a></h1>
<p id="rfc.section.3.2.4.p.1">The homepage field contains an URL of a website with additional information about this link dump. This field corresponds to the RDF property <samp>foaf:homepage</samp> with <samp>dump</samp> as subject. Note that this field does not specify the homepage of the target dataset. For instance this meta field expressed in BEACON text format </p>
<pre>
#HOMEPAGE: http://example.org/about.html
</pre>
<p id="rfc.section.3.2.4.p.2">can be mapped to this RDF triple: </p>
<pre>
:dump foaf:homepage &lt;http://example.org/about.html&gt; .
</pre>
<h1 id="rfc.section.3.2.5"><a href="#rfc.section.3.2.5">3.2.5.</a> <a href="#feed" id="feed">feed</a></h1>
<p id="rfc.section.3.2.5.p.1">The feed field contains an URL, where to download the link dump from. This field corresponds to the RDF property <samp>void:dataDump</samp>. For instance this meta field, expressed in BEACON text format </p>
<pre>
#FEED: http://example.com/beacon.txt
</pre>
<p id="rfc.section.3.2.5.p.2">can be mapped to this RDF triple: </p>
<pre>
:dump void:dataDump &lt;http://example.com/beacon.txt&gt; .
</pre>
<h1 id="rfc.section.3.2.6"><a href="#rfc.section.3.2.6">3.2.6.</a> <a href="#timestamp" id="timestamp">timestamp</a></h1>
<p id="rfc.section.3.2.6.p.1">The timestamp field contains the date of last modification of the link dump. Note that this value MAY be different to the last modification time of a BEACON file that serializes the link dump. The timestamp value MUST conform to the <samp>full-date</samp> or to the <samp>date-time</samp> production rule in <a href="#RFC3339">[RFC3339]</a>. In addition, an uppercase <samp>T</samp> character MUST be used to separate date and time, and an uppercase <samp>Z</samp> character MUST be present in the absence of a numeric time zone offset. This field corresponds to the <samp>dcterms:modified</samp> property.  </p>
<p id="rfc.section.3.2.6.p.2">For instance the following valid timestamp values, expressed in BEACON text format: </p>
<pre>
 #TIMESTAMP: 2012-05-30
 #TIMESTAMP: 2012-05-30T15:17:36+02:00
 #TIMESTAMP: 2012-05-30T13:17:36Z
</pre>
<p id="rfc.section.3.2.6.p.3">can be mapped to the following RDF triples, respectively: </p>
<pre>
 :dump dcterms:modified "2012-05-30"
 :dump dcterms:modified "2012-05-30T15:17:36+02:00"
 :dump dcterms:modified "2012-05-30T13:17:36Z"
</pre>
<h1 id="rfc.section.3.2.7"><a href="#rfc.section.3.2.7">3.2.7.</a> <a href="#update" id="update">update</a></h1>
<p id="rfc.section.3.2.7.p.1">The update field specifies how frequently the link dump is likely to change. The field corresponds to the <samp>&lt;changefreq&gt;</samp> element in <a href="#Sitemaps">Sitemaps XML format</a> <cite title="NONE">[Sitemaps]</cite>. Valid values are: </p>
<p/>

<ul>
  <li><samp>always</samp> </li>
  <li><samp>hourly</samp> </li>
  <li><samp>daily</samp> </li>
  <li><samp>weekly</samp> </li>
  <li><samp>monthly</samp> </li>
  <li><samp>yearly</samp> </li>
  <li><samp>never</samp> </li>
</ul>
<p id="rfc.section.3.2.7.p.3">The value <samp>always</samp> SHOULD be used to describe link dumps that change each time they are accessed. The value <samp>never</samp> SHOULD be used to describe archived link dumps. Please note that the value of this tag is considered a hint and not a command.  </p>
<p id="rfc.section.3.2.7.p.4">The RDF property of this field is <samp>rssynd:updatePeriod</samp>. For instance the update field (given in BEACON text format) </p>
<pre>
#UPDATE: daily
</pre>
<p id="rfc.section.3.2.7.p.5">specifies a daily update, expressible in RDF as: </p>
<pre>
:dump rssynd:updatePeriod "daily" .
</pre>
<h1 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a> <a href="#link-description" id="link-description">Link description</a></h1>
<h1 id="rfc.section.3.3.1"><a href="#rfc.section.3.3.1">3.3.1.</a> <a href="#prefix" id="prefix">prefix</a></h1>
<p id="rfc.section.3.3.1.p.1">The prefix field specifies an URI patter to construct link sources. If no prefix field is specified, the default value <samp>{+ID}</samp> is used. If the prefix field contains no template expression, the expression <samp>{ID}</samp> is appended.  </p>
<p id="rfc.section.3.3.1.p.2">The name <samp>prefix</samp> was choosen to keep backwards compatibility with existing BEACON files.  </p>
<p id="rfc.section.3.3.1.p.3">Applications MAY map the prefix field to the RDF property <samp>void:uriSpace</samp> or <samp>void:uriRegexPattern</samp> with <samp>:sourceset</samp> as RDF subject.  </p>
<h1 id="rfc.section.3.3.2"><a href="#rfc.section.3.3.2">3.3.2.</a> <a href="#target" id="target">target</a></h1>
<p id="rfc.section.3.3.2.p.1">The target field specifies an URI patter to construct link targets. If no target field is specified, the default value <samp>{+ID}</samp> is used. If the target field contains no template expression, the expression <samp>{ID}</samp> is appended.  </p>
<p id="rfc.section.3.3.2.p.2">Applications MAY map the target field to the RDF property <samp>void:uriSpace</samp> or <samp>void:uriRegexPattern</samp> with <samp>:targetset</samp> as RDF subject.  </p>
<h1 id="rfc.section.3.3.3"><a href="#rfc.section.3.3.3">3.3.3.</a> <a href="#message" id="message">message</a></h1>
<p id="rfc.section.3.3.3.p.1">The message field is used as template for link annotations. The default value is <samp>{annotation}</samp>.  </p>
<h1 id="rfc.section.3.3.4"><a href="#rfc.section.3.3.4">3.3.4.</a> <a href="#relation" id="relation">relation</a></h1>
<p id="rfc.section.3.3.4.p.1">All links in a link dump share a common relation type, specified by the relation field. A relation type MUST be either an URI or a registered link type from the IANA link relations registry <a href="#RFC5988">[RFC5988]</a>. The default relation type is <samp>rdfs:seeAlso</samp>. The relation field is mapped to the RDF property <samp>void:linkPredicate</samp> with subject <samp>:dump</samp>.  </p>
<p id="rfc.section.3.3.4.p.2">Some examples of relation types: </p>
<pre>
 http://www.w3.org/2002/07/owl#sameAs
 http://xmlns.com/foaf/0.1/isPrimaryTopicOf
 http://purl.org/spar/cito/cites
 describedby
 replies
</pre>
<h1 id="rfc.section.3.3.5"><a href="#rfc.section.3.3.5">3.3.5.</a> <a href="#annotation" id="annotation">annotation</a></h1>
<p id="rfc.section.3.3.5.p.1">The annotation field specifies an RDF property for RDF triples between link target and link annotation. Without this field, the link annotation has no explicit meaning. To give an example, the following BEACON text file: </p>
<pre>
#ANNOTATION: http://purl.org/dc/elements/1.1/format

http://example.org/apples|sphere|http://example.org/oranges
</pre>
<p id="rfc.section.3.3.5.p.2">implies the following triple if mapped to RDF: </p>
<p><a href="http://example.org/oranges">http://example.org/oranges</a> dc:format "sphere" .  </p>
<h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a> <a href="#beacon-text-format" id="beacon-text-format">BEACON text format</a></h1>
<p id="rfc.section.4.p.1">A BEACON file is an UTF-8 encoded Unicode file <a href="#RFC3629">[RFC3629]</a>, split into lines by line breaks (rule <samp>LINEBREAK</samp>). The file consists of a set of lines with meta fields, followed by a set of lines with link tokens.  A BEACON file MAY begin with an Unicode Byte Order Mark and it SHOULD end with a line break: </p>
<pre>
 BEACONTEXT  =  [ BOM ]
                *METALINE
                *EMPTY
                 LINKLINE *( LINEBREAK LINKLINE )
                [ LINEBREAK ]

 BOM         =  %xEF.BB.BF     ; Unicode UTF-8 Byte Order Mark
</pre>
<p id="rfc.section.4.p.2">The order of meta lines and of link lines, respectively, is irrelevant. At least one empty line SHOULD be used to separate meta lines and link lines. If no empty line is given, the first link line MUST NOT begin with <samp>"#"</samp>.  </p>
<pre>
EMPTY        =  *WHITESPACE LINEBREAK
</pre>
<p id="rfc.section.4.p.3">A meta line specifies a meta field (<a href="#meta-fields">Section 3</a>) and its value. Meta field names MUST be given in uppercase letters. All meta lines with <samp>METAFIELD</samp> not one of the field names defined in this specification, SHOULD be ignored.  </p>
<pre>
 METALINE    =  "#" METAFIELD ":" METAVALUE LINEBREAK

 METAFIELD   =  +( %x41-5A )   ;  "A" to "Z"

 METAVALUE   =  LINE
</pre>
<p id="rfc.section.4.p.4">A BEACON text file MAY start with the fixed meta field "format" set to "BEACON" ("<samp>#FORMAT: BEACON</samp>").  </p>
<p id="rfc.section.4.p.5">Each link is given on a link line with its source token, optionally follwed by annotation token and target token: </p>
<pre>
 LINKLINE    =  SOURCE [ 
                  VBAR ANNOTATION /
                  VBAR ANNOTATION VBAR TARGET /
                  VBAR TARGET
                ]

 SOURCE      =  TOKEN

 TARGET      =  TOKEN

 ANNOTATION  =  TOKEN
</pre>
<p id="rfc.section.4.p.6">The ambiguity of rule <samp>LINKLINE</samp> with one occurrence of <samp>VBAR</samp> is resolved is following: </p>
<p/>

<ul>
  <li>If the target meta field has its default value <samp>{+ID}</samp>, and the message meta field has its default value <samp>{annotation}</samp>, and the whitespace-normalized second token begins with "http:" or "https:", then the second token is used as target token.  </li>
  <li>The second token is used as annotation token otherwise.  </li>
</ul>
<p id="rfc.section.4.p.8">This way one can use two forms to encode links to HTTP URIs (given target meta field and message meta field with their default values): </p>
<pre>
foo|http://example.org/foobar
foo||http://example.org/foobar
</pre>
<h1 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a> <a href="#link-construction" id="link-construction">Link construction</a></h1>
<p id="rfc.section.4.1.p.1">Link elements are given in abbreviated form of <strong>link tokens</strong> when serialized in a BEACON file. Each link is constructed from: </p>
<p/>

<ul>
  <li>a mandatory source token </li>
  <li>an optional annotation token </li>
  <li>an optional target token, which is set to the source token if missing </li>
</ul>
<p id="rfc.section.4.1.p.3">All tokens MUST be whitespace-normalized before further processing. The full link is then constructed as following: </p>
<p/>

<ul>
  <li>The source URI is constructed from the <samp>prefix</samp> meta field URI pattern by inserting the source token, as defined in <a href="#uri-patterns">Section 2.4</a>.  </li>
  <li>The target URI is constructed from the <samp>target</samp> meta field URI pattern by inserting the target token, as as defined in <a href="#uri-patterns">Section 2.4</a>.  </li>
  <li>The annotation is constructed from the <samp>message</samp> meta field by literally replacing every occurrence of the character sequence <samp>{annotation}</samp> by the annotation token. The resulting string MUST be whitespace-normalized after construction additional encoding MUST NOT be applied.  </li>
</ul>
<p id="rfc.section.4.1.p.5">The following table illustrates construction of a link: </p>
<pre>
 meta field  +  link token  --&gt;  link element
----------------------------------------------
 prefix      |  source       |   source URI
 target      |  target       |   target URI
 message     |  annotation   |   annotation
</pre>
<p id="rfc.section.4.1.p.6">Constructed source URI and target URI MUST be syntactically valid.  Applications MUST ignore links with invalid URIs and SHOULD give a warning. Note that annotation tokens are always ignored if the <samp>message</samp> meta field does not contain the sequence <samp>{annotation}</samp>. Applications SHOULD give a warning in this case.  </p>
<p id="rfc.section.4.1.p.7">Applications MUST NOT differentiate between equal links constructed from different abbreviations. For instance the following BEACON text file contains a single link: </p>
<pre>
 #PREFIX: http://example.org/
 #TARGET: http://example.com/
 #MESSAGE: Hello World!

 foo
</pre>
<p id="rfc.section.4.1.p.8">The same link could also be serialized without any meta fields: </p>
<pre>
 http://example.org/foo|Hello World!|http://example.com/foo
</pre>
<p id="rfc.section.4.1.p.9">The default meta fields values could also be specified as: </p>
<pre>
 #PREFIX: {+ID}
 #TARGET: {+ID}
 #MESSAGE: {annotation}
</pre>
<p id="rfc.section.4.1.p.10">Another possible serialization is: </p>
<pre>
 #PREFIX: http://example.org/
 #TARGET: http://example.com/
 #MESSAGE: Hello {annotation}

 foo|World!
</pre>
<p id="rfc.section.4.1.p.11">The link line in this example is equal to: </p>
<pre>
 foo|World!|foo
</pre>
<p id="rfc.section.4.1.p.12">Multiple occurrences of equal links in one BEACON file SHOULD be ignored. It is RECOMMENDED to indicate duplicated links with a warning.  </p>
<h1 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2.</a> <a href="#mime-type" id="mime-type">MIME type</a></h1>
<p id="rfc.section.4.2.p.1">The recommended MIME type of BEACON text files is "text/beacon". The file extension <samp>.txt</samp> SHOULD be used when storing BEACON text files.  </p>
<h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a> <a href="#mappings" id="mappings">Mappings</a></h1>
<p id="rfc.section.5.p.1">An important use-case of BEACON is the creation of HTML links as described in section <a href="#mapping-to-html">Section 5.2</a>. A link dump can also be mapped to an RDF graph (<a href="#mapping-to-rdf">Section 5.1</a>) so BEACON provides a RDF serialization format for a subset of RDF graphs with uniform links.  </p>
<h1 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1.</a> <a href="#mapping-to-rdf" id="mapping-to-rdf">Mapping to RDF</a></h1>
<p id="rfc.section.5.1.p.1">The following triples are always assumed in mappings of link dumps to RDF: </p>
<pre>
 :sourceset a void:Dataset .
 :targetset a void:Dataset .

 :dump a void:Linkset ; 
     void:subjectsTarget :sourceset ;
     void:objectsTarget :targetset .
</pre>
<p id="rfc.section.5.1.p.2">Each link can be mapped to at least one RDF triple with: </p>
<p/>

<ul>
  <li>the source URI used as subject IRI, </li>
  <li>the relation type used as predicate, </li>
  <li>the target URI used as object IRI.  </li>
</ul>
<p id="rfc.section.5.1.p.4">As RDF is not defined on URIs but on URI references or IRIs, all URIs MUST be transformed to an IRI by following the process defined in Section 3.2 of <a href="#RFC3987">[RFC3987]</a>.  Applications MAY reject mapping link dumps with relation type from the IANA link relations registry, in lack of official URIs.  Another valid solution is to extend the RDF model by using blank nodes as predicates.  </p>
<p id="rfc.section.5.1.p.5">The annotation SHOULD result in an additional RDF triple, unless its value equals to the empty string. The additional triple is mapped with: </p>
<p/>

<ul>
  <li>the target URI used as subject IRI, </li>
  <li>the <samp>annotation</samp> meta field used as predicate, </li>
  <li>the annotation value used as literal object.  </li>
</ul>
<p id="rfc.section.5.1.p.7">Applications MAY ignore annotations and map annotations to different kinds of RDF triples if the <samp>annotation</samp> meta field is the default value <samp>rdf:value</samp>. For instance an annotation could contain additional information about a link such as its provenience, date, or probability (reification).  </p>
<p id="rfc.section.5.1.p.8">Typical use cases of annotations include specification of labels and a "number of hits" at the target dataset. For instance the following BEACON file in BEACON text format (<a href="#beacon-text-format">Section 4</a>): </p>
<pre>
 #PREFIX: http://example.org/
 #TARGET: http://example.com/ 
 #RELATION: http://xmlns.com/foaf/0.1/primaryTopic
 #ANNOTATION: http://purl.org/dc/terms/extent

 abc|12|xy
</pre>
<p id="rfc.section.5.1.p.9">is mapped to the following RDF triples: </p>
<pre>
 &lt;http://example.org/abc&gt; foaf:primaryTopic &lt;http://example.com/xy&gt; .
 &lt;http://example.com/xy&gt; dcterms:extent "12" .
</pre>
<h1 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2.</a> <a href="#mapping-to-html" id="mapping-to-html">Mapping to HTML</a></h1>
<p id="rfc.section.5.2.p.1">This document does not specify a single mapping of links in a BEACON link dump to links in a HTML document, so the following description is non-normative.  </p>
<p id="rfc.section.5.2.p.2">A link in a BEACON dump can be mapped to a HTML link (<samp>&lt;a&gt;</samp> element) as following: </p>
<p/>

<ul>
  <li>link source corresponds to the website which a HTML link is included at, </li>
  <li>link target corresponds to the <samp>href</samp> attribute, </li>
  <li>link annotation corresponds to the textual content, </li>
</ul>
<p id="rfc.section.5.2.p.4">For instance the following link, given in a BEACON text file: </p>
<pre>
 http://example.com|example|http://example.org
</pre>
<p id="rfc.section.5.2.p.5">can be mapped to the following HTML link: </p>
<pre>
 &lt;a href="http://example.org"&gt;example&lt;/a&gt;
</pre>
<p id="rfc.section.5.2.p.6">Note that the annotation field value may be the empty string. In practice, additional meta fields SHOULD be used to construct appropriate HTML links. For instance the meta fields </p>
<pre>
 #RELATION: http://xmlns.com/foaf/0.1/isPrimaryTopicOf
 #SOURCETYPE: http://xmlns.com/foaf/0.1/Person 
 #NAME: ACME documents
</pre>
<p id="rfc.section.5.2.p.7">can be used to create a link such as </p>
<pre>
 &lt;span&gt;
   More information about this person
   &lt;a href="http://example.com/foo"&gt;at ACME documents&lt;/a&gt;.
 &lt;/span&gt;  
</pre>
<p id="rfc.section.5.2.p.8">because <samp>foaf:isPrimaryTopicOf</samp> translates to "more information about", <samp>foaf:Person</samp> translates to "this person", and the target dataset&#8217;s name can be used as link label.  </p>
<h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a> <a href="#security-considerations" id="security-considerations">Security Considerations</a></h1>
<p id="rfc.section.6.p.1">Programs should be prepared for malformed and malicious content when parsing BEACON files, when constructing links from link tokens, and when mapping links to RDF or HTML. Possible attacks of parsing contain broken UTF-8 and buffer overflows. Link construction can result in unexpectedly long strings and character sequences that may be harmless when analyzed as parts. Most notably, BEACON data may store strings containing HTML and JavaScript code to be used for cross-site scripting attacks on the site displaying BEACON links.  Applications should therefore escape or filter accordingly all content with established libraries, such as Apache Escape Utils.  </p>
<h1 id="rfc.references"><a href="#rfc.references">7.</a> References</h1>
<h1 id="rfc.references.1"><a href="#rfc.references.1">7.1.</a> Normative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="RFC2119">[RFC2119]</b>
      </td>
      <td class="top"><a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC3339">[RFC3339]</b>
      </td>
      <td class="top"><a href="mailto:GK@ACM.ORG" title="Clearswift Corporation">Klyne, G.</a> and <a href="mailto:chris.newman@sun.com" title="Sun Microsystems">C. Newman</a>, "<a href="http://tools.ietf.org/html/rfc3339">Date and Time on the Internet: Timestamps</a>", RFC 3339, July 2002.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC3629">[RFC3629]</b>
      </td>
      <td class="top"><a>Yergeau, F.</a>, "<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>", STD 63, RFC 3629, November 2003.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC3986">[RFC3986]</b>
      </td>
      <td class="top"><a href="mailto:timbl@w3.org" title="World Wide Web Consortium">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com" title="Day Software">Fielding, R.</a> and <a href="mailto:LMM@acm.org" title="Adobe Systems Incorporated">L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, January 2005.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC3987">[RFC3987]</b>
      </td>
      <td class="top"><a>Duerst, M.</a> and <a>M. Suignard</a>, "<a href="http://tools.ietf.org/html/rfc3987">Internationalized Resource Identifiers (IRIs)</a>", RFC 3987, January 2005.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5234">[RFC5234]</b>
      </td>
      <td class="top"><a>Crocker, D.</a> and <a>P. Overell</a>, "<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>", STD 68, RFC 5234, January 2008.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5322">[RFC5322]</b>
      </td>
      <td class="top"><a href="mailto:presnick@qualcomm.com" title="Qualcomm Incorporated">Resnick, P.</a>, "<a href="http://tools.ietf.org/html/rfc5322">Internet Message Format</a>", RFC 5322, October 2008.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5988">[RFC5988]</b>
      </td>
      <td class="top"><a>Nottingham, M.</a>, "<a href="http://tools.ietf.org/html/rfc5988">Web Linking</a>", RFC 5988, October 2010.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6570">[RFC6570]</b>
      </td>
      <td class="top"><a>Gregorio, J.</a>, <a>Fielding, R.</a>, <a>Hadley, M.</a>, <a>Nottingham, M.</a> and <a>D. Orchard</a>, "<a href="http://tools.ietf.org/html/rfc6570">URI Template</a>", RFC 6570, March 2012.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="Unicode">[Unicode]</b>
      </td>
      <td class="top"><a>The Unicode Consortium, </a>, "<a>The Unicode Standard, Version 6.1</a>", April 2012.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="DCTERMS">[DCTERMS]</b>
      </td>
      <td class="top"><a>DCMI Usage Board, </a>, "<a>DCMI Metadata Terms</a>", Oct 2010.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.references.2"><a href="#rfc.references.2">7.2.</a> Informative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="FOAF">[FOAF]</b>
      </td>
      <td class="top"><a>Brickley, D.</a> and <a>L. Miller</a>, "<a>FOAF Vocabulary Specification</a>", Aug 2010.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5013">[RFC5013]</b>
      </td>
      <td class="top"><a>Kunze, J.</a> and <a>T. Baker</a>, "<a href="http://tools.ietf.org/html/rfc5013">The Dublin Core Metadata Element Set</a>", RFC 5013, August 2007.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="Sitemaps">[Sitemaps]</b>
      </td>
      <td class="top"><a>Google Inc., </a>, "<a>Sitemaps XML format</a>", February 2008.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="SAX">[SAX]</b>
      </td>
      <td class="top"><a>Bradner, D.</a>, "<a>SAX 1.0: The Simple API for XML</a>", May 1998.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="TURTLE">[TURTLE]</b>
      </td>
      <td class="top"><a>Beckett, D.</a> and <a>T. Berners-Lee</a>, "<a>Turtle - Terse RDF Triple Language</a>", Mar 2011.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RELAX-NGC">[RELAX-NGC]</b>
      </td>
      <td class="top"><a>Clark, J.</a>, "<a>RELAX NG Compact Syntax</a>", Nov 2002.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RSSSYND">[RSSSYND]</b>
      </td>
      <td class="top"><a>RSS-DEV Working Group, </a>, "<a>RDF Site Summary 1.0 Modules: Syndication</a>", Dec 2000.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RDF">[RDF]</b>
      </td>
      <td class="top"><a>Hayes, P.</a>, "<a>RDF Semantics</a>", Feb 2004.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="VOID">[VOID]</b>
      </td>
      <td class="top"><a>Cyganiak, R.</a>, <a>Zhao, J.</a>, <a>Alexander, K.</a> and <a>M. Hausenblas</a>, "<a>Vocabulary of Interlinked Datasets (VoID)</a>", Mar 2011.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.appendix.A"><a href="#rfc.appendix.A">Appendix A.</a> <a href="#glossary" id="glossary">Glossary</a></h1>
<p/>

<dl>
  <dt>BEACON</dt>
  <dd style="margin-left: 8">is a data interchange format as specified in this document.  </dd>
  <dt>BEACON file</dt>
  <dd style="margin-left: 8">is a link dump serialized in BEACON text format.  </dd>
  <dt>BEACON text format</dt>
  <dd style="margin-left: 8">is a condense format to serialize link dumps as specified in this document.  </dd>
  <dt>link</dt>
  <dd style="margin-left: 8">is a triple of source URI, target URI, and annotation.  </dd>
  <dt>link dump</dt>
  <dd style="margin-left: 8">is a set of links and meta fields with common relation type for all links.  </dd>
  <dt>link token</dt>
  <dd style="margin-left: 8">is a Unicode string in a BEACON files used to construct a link.  </dd>
  <dt>source database</dt>
  <dd style="margin-left: 8">is the set (or superset) of all source URIs in a link dump.  </dd>
  <dt>target database</dt>
  <dd style="margin-left: 8">is the set (or superset) of all target URIs in a link dump.  </dd>
  <dt>relation type</dt>
  <dd style="margin-left: 8">a common releation between targets and sources in a link dump.  </dd>
</dl>
<h1 id="rfc.appendix.B"><a href="#rfc.appendix.B">Appendix B.</a> <a href="#beacon-xml-format" id="beacon-xml-format">BEACON XML format</a></h1>
<p id="rfc.section.B.p.1">A BEACON XML file is a valid XML file conforming to the following schema. The file SHOULD be encoded in UTF-8 <a href="#RFC3629">[RFC3629]</a>. The file MUST: </p>
<p/>

<ul>
  <li>Begin with an opening <samp>&lt;beacon&gt;</samp> tag and end with a closing <samp>&lt;/beacon&gt;</samp> tag.  </li>
  <li>Specify the default namespace <samp>http://purl.org/net/example</samp>.  </li>
  <li>Include an empty <samp>&lt;link/&gt;</samp> tag for each link.  </li>
  <li>Include the source token as XML attribute <samp>source</samp> of each <samp>&lt;link/&gt;</samp> element.  </li>
</ul>
<p id="rfc.section.B.p.3">The file MAY further: </p>
<p/>

<ul>
  <li>Specify <a href="#meta-fields">meta fields</a> <cite title="NONE">[meta-fields]</cite> as XML attributes to the <samp>&lt;beacon&gt;</samp> tag.  </li>
  <li>Specify link tokens <samp>target</samp> and/or <samp>annotation</samp> as attributes to the <samp>&lt;link&gt;</samp> element.  </li>
</ul>
<p id="rfc.section.B.p.5">All attributes MUST be given in lowercase.  </p>
<p id="rfc.section.B.p.6">To process BEACON XML files, a complete and stream-processing XML parser, for instance the Simple API for XML <a href="#SAX">[SAX]</a>, is RECOMMENDED, in favor of parsing with regular expressions or similar methods prone to errors.  Additional XML attributes of <samp>&lt;link&gt;</samp> elements and <samp>&lt;link&gt;</samp> elements without <samp>source</samp> attribute SHOULD be ignored.  </p>
<p id="rfc.section.B.p.7">Note that in contrast to BEACON text files, link tokens MAY include line breaks, which MUST BE removed by whitespace normalization.  Furthermore id field, annotation field and target token MAY include a vertical bar, which MUST be replaced by the character sequence <samp>%7C</samp> before further processing.  </p>
<p id="rfc.section.B.p.8">A schema of BEACON XML format in RELAX NG Compact syntax <a href="#RELAX-NGC">[RELAX-NGC]</a> can be given as following: </p>
<pre>
default namespace = "http://purl.org/net/beacon"

element beacon {
  attribute prefix      { text }.
  attribute target      { text },
  attribute message     { text },
  attribute source      { xsd:anyURI },
  attribute name        { text },
  attribute institution { text },
  attribute description { text },
  attribute creator     { text },
  attribute contact     { text },
  attribute homepage    { xsd:anyURI },
  attribute feed        { xsd:anyURI },
  attribute timestamp   { text },
  attribute update { "always" | "hourly" | "daily" 
    | "weekly" | "monthly" | "yearly" | "never" },
  attribute relation    { xsd:anyURI },
  attribute annotation  { xsd:anyURI },
  element link {
    attribute source     { text },
    attribute target     { text }?,
    attribute annotation { text }?,
    empty
  }*
}
</pre>
<h1 id="rfc.appendix.C"><a href="#rfc.appendix.C">Appendix C.</a> <a href="#example" id="example">Example</a></h1>
<p id="rfc.section.C.p.1">A short example of a link dump serialized in BEACON text format: </p>
<pre>
#PREFIX: http://example.org/
#TARGET: http://example.com/
#NAME:   ACME document

alice||foo
bob
ada|bar
</pre>
<p id="rfc.section.C.p.2">The link dump can be mapped to RDF as following: </p>
<pre>
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .

:sourceset a void:Dataset ;
    void:uriSpace "http://example.org/" .

:targetset a void:Dataset ;
    void:uriSpace "http://example.com/" .

:dump a void:Linkset ;
    void:subjectsTarget :sourceset ;
    void:objectsTarget :targetset ;
    void:linkPredicate rdfs:seeAlso .

&lt;http://example.org/alice&gt; 
  rdfs:seeAlso &lt;http://example.com/foo&gt; . 
&lt;http://example.org/bob&gt; 
  rdfs:seeAlso &lt;http://example.com/bob&gt; . 
&lt;http://example.org/ada&gt; 
  rdfs:seeAlso &lt;http://example.com/ada&gt; . 
&lt;http://example.com/ada&gt; 
  rdfs:value "bar" .
</pre>
<p id="rfc.section.C.p.3">The same link dump serialized in BEACON XML format: </p>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beacon xmlns="http://purl.org/net/beacon" 
        prefix="http://example.org/"
        target="http://example.com/"
        name="ACME document"&gt;
   &lt;link source="alice" target="foo" /&gt;
   &lt;link source="bob" /&gt;
   &lt;link source="ada" annotation="bar" /&gt;
&lt;/beacon&gt;
</pre>
<h1 id="rfc.authors">
  <a href="#rfc.authors">Authors' Addresses</a>
</h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jakob Vo&#223;</span> 
	  <span class="n hidden">
		<span class="family-name">Vo&#223;</span>
	  </span>
	</span>
	<span class="org vcardline">Verbundzentrale des GBV</span>
	<span class="adr">
	  <span class="vcardline">Platz der G&#246;ttinger Sieben 1</span>

	  <span class="vcardline">
		<span class="locality">G&#246;ttingen</span>,  
		<span class="region"></span>
		<span class="code">37073</span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">Phone: +49(551)39-10242</span>

<span class="vcardline">EMail: <a href="mailto:voss@gbv.de">voss@gbv.de</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Thomas Berger</span> 
	  <span class="n hidden">
		<span class="family-name">Berger</span>
	  </span>
	</span>
	<span class="org vcardline">Gymel.com</span>
	<span class="adr">
	  <span class="vcardline">Im Dahl 35</span>

	  <span class="vcardline">
		<span class="locality">Bonn</span>,  
		<span class="region"></span>
		<span class="code">53117</span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:ThB@gymel.com">ThB@gymel.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Mathias Schindler</span> 
	  <span class="n hidden">
		<span class="family-name">Schindler</span>
	  </span>
	</span>
	<span class="org vcardline">Wikimedia Deutschland e.V.</span>
	<span class="adr">
	  <span class="vcardline">Tempelhofer Ufer 23-24</span>

	  <span class="vcardline">
		<span class="locality">Berlin</span>,  
		<span class="region"></span>
		<span class="code">10963</span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">Phone: +49(30)21915826-0</span>

<span class="vcardline">EMail: <a href="mailto:mathias.schindler@wikimedia.de">mathias.schindler@wikimedia.de</a></span>

  </address>
</div>
  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a></li>
<li>1.1.   <a href="#rfc.section.1.1">Example</a></li>
<li>1.2.   <a href="#rfc.section.1.2">Notational Conventions</a></li>
<li>2.   <a href="#rfc.section.2">Basic concepts</a></li>
<li>2.1.   <a href="#rfc.section.2.1">Links</a></li>
<li>2.2.   <a href="#rfc.section.2.2">Allowed characters</a></li>
<li>2.3.   <a href="#rfc.section.2.3">Whitespace normalization</a></li>
<li>2.4.   <a href="#rfc.section.2.4">URI patterns</a></li>
<li>3.   <a href="#rfc.section.3">Meta fields</a></li>
<li>3.1.   <a href="#rfc.section.3.1">Source and target datasets</a></li>
<li>3.1.1.   <a href="#rfc.section.3.1.1">sourceset</a></li>
<li>3.1.2.   <a href="#rfc.section.3.1.2">targetset</a></li>
<li>3.1.3.   <a href="#rfc.section.3.1.3">name</a></li>
<li>3.1.4.   <a href="#rfc.section.3.1.4">institution</a></li>
<li>3.2.   <a href="#rfc.section.3.2">Link dump</a></li>
<li>3.2.1.   <a href="#rfc.section.3.2.1">description</a></li>
<li>3.2.2.   <a href="#rfc.section.3.2.2">creator</a></li>
<li>3.2.3.   <a href="#rfc.section.3.2.3">contact</a></li>
<li>3.2.4.   <a href="#rfc.section.3.2.4">homepage</a></li>
<li>3.2.5.   <a href="#rfc.section.3.2.5">feed</a></li>
<li>3.2.6.   <a href="#rfc.section.3.2.6">timestamp</a></li>
<li>3.2.7.   <a href="#rfc.section.3.2.7">update</a></li>
<li>3.3.   <a href="#rfc.section.3.3">Link description</a></li>
<li>3.3.1.   <a href="#rfc.section.3.3.1">prefix</a></li>
<li>3.3.2.   <a href="#rfc.section.3.3.2">target</a></li>
<li>3.3.3.   <a href="#rfc.section.3.3.3">message</a></li>
<li>3.3.4.   <a href="#rfc.section.3.3.4">relation</a></li>
<li>3.3.5.   <a href="#rfc.section.3.3.5">annotation</a></li>
<li>4.   <a href="#rfc.section.4">BEACON text format</a></li>
<li>4.1.   <a href="#rfc.section.4.1">Link construction</a></li>
<li>4.2.   <a href="#rfc.section.4.2">MIME type</a></li>
<li>5.   <a href="#rfc.section.5">Mappings</a></li>
<li>5.1.   <a href="#rfc.section.5.1">Mapping to RDF</a></li>
<li>5.2.   <a href="#rfc.section.5.2">Mapping to HTML</a></li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a></li>
<li>7.   <a href="#rfc.references">References</a></li>
<li>7.1.   <a href="#rfc.references.1">Normative References</a></li>
<li>7.2.   <a href="#rfc.references.2">Informative References</a></li>
<li>Appendix A.   <a href="#rfc.appendix.A">Glossary</a></li>
<li>Appendix B.   <a href="#rfc.appendix.B">BEACON XML format</a></li>
<li>Appendix C.   <a href="#rfc.appendix.C">Example</a></li>
<li><a href="#rfc.authors">Authors' Addresses</a></li>


  </ul>

  

</body>
</html>
